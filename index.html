<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پنل مدیریت کافی نت شهر - چاپ تخصصی</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="print.css" media="print">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.rtl.min.css">
</head>
<body>
    <!-- نوار هشدار برای تست -->
    <div class="test-alert">
        <i class="fas fa-exclamation-triangle"></i>
        این نسخه آزمایشی است - برای استفاده در کافی نت شهر
    </div>

    <div class="container-fluid">
        <div class="row">
            <!-- سایدبار -->
            <nav class="col-md-3 col-lg-2 sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-print"></i> کافی نت شهر</h3>
                    <p>سیستم چاپ تخصصی</p>
                </div>
                
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#form-section">
                            <i class="fas fa-edit"></i> فرم جدید
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#print-section">
                            <i class="fas fa-print"></i> پیش نمایش چاپ
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#history-section">
                            <i class="fas fa-history"></i> تاریخچه چاپ‌ها
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#settings-section">
                            <i class="fas fa-cog"></i> تنظیمات
                        </a>
                    </li>
                </ul>
                
                <div class="contact-sidebar">
                    <h6><i class="fas fa-phone"></i> تماس با ما:</h6>
                    <p class="phone-number">09224044842</p>
                    <p class="address">کافی نت شهر</p>
                </div>
            </nav>

            <!-- محتوای اصلی -->
            <main class="col-md-9 col-lg-10 main-content">
                <!-- فرم ورود اطلاعات -->
                <section id="form-section" class="section-card">
                    <h2><i class="fas fa-file-alt"></i> فرم ثبت اطلاعات برای چاپ</h2>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">نوع سند *</label>
                                <select class="form-select" id="documentType" required>
                                    <option value="">انتخاب کنید</option>
                                    <option value="خلافی خودرو">خلافی خودرو</option>
                                    <option value="طرح ترافیک">طرح ترافیک</option>
                                    <option value="خلافی موتورسیکلت">خلافی موتورسیکلت</option>
                                    <option value="عوارض آزادراه">عوارض آزادراه</option>
                                    <option value="جریمه پارک">جریمه پارک</option>
                                    <option value="سایر">سایر</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">شماره پلاک *</label>
                                <input type="text" class="form-control" id="plateNumber" 
                                       placeholder="مثلا: 12ب123ایران" required>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">مبلغ (تومان) *</label>
                                <input type="number" class="form-control" id="amount" 
                                       placeholder="مثلا: 50000" required>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">تاریخ جریمه *</label>
                                <input type="date" class="form-control" id="violationDate" required>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">شناسه (کد) پیگیری *</label>
                                <input type="text" class="form-control" id="trackingCode" 
                                       placeholder="مثلا: 123456789" required>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">محل تخلف</label>
                                <input type="text" class="form-control" id="violationLocation" 
                                       placeholder="مثلا: خیابان اصلی - فلان تقاطع">
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">توضیحات اضافه</label>
                                <textarea class="form-control" id="description" rows="3" 
                                          placeholder="توضیحات اضافی (اختیاری)"></textarea>
                            </div>
                            
                            <div class="mb-3">
                                <label class="form-label">هزینه چاپ (تومان)</label>
                                <input type="number" class="form-control" id="printCost" 
                                       placeholder="هزینه سرویس شما" value="5000">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-primary" onclick="previewDocument()">
                            <i class="fas fa-eye"></i> پیش نمایش
                        </button>
                        <button type="button" class="btn btn-success" onclick="saveAndPrint()">
                            <i class="fas fa-save"></i> ذخیره و چاپ
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="clearForm()">
                            <i class="fas fa-redo"></i> پاک کردن فرم
                        </button>
                    </div>
                </section>

                <!-- بخش پیش نمایش و چاپ -->
                <section id="print-section" class="section-card">
                    <h2><i class="fas fa-print"></i> پیش نمایش سند</h2>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i> این صفحه برای چاپ بهینه شده است. پس از تأیید، دکمه چاپ را بزنید.
                    </div>
                    
                    <div class="printable-document" id="printableDocument">
                        <div class="print-header">
                            <div class="print-logo">
                                <i class="fas fa-print fa-2x"></i>
                                <h3>کافی نت شهر</h3>
                            </div>
                            <div class="print-contact">
                                <p><strong>تلفن:</strong> 09224044842</p>
                                <p><strong>آدرس:</strong> کافی نت شهر - خدمات چاپ تخصصی</p>
                            </div>
                        </div>
                        
                        <div class="print-title">
                            <h4 id="printDocType">خلافی خودرو</h4>
                            <hr>
                        </div>
                        
                        <div class="print-body">
                            <div class="row">
                                <div class="col-6">
                                    <p><strong>شماره پلاک:</strong> <span id="printPlate">12ب123ایران</span></p>
                                    <p><strong>مبلغ جریمه:</strong> <span id="printAmount">50,000</span> تومان</p>
                                    <p><strong>تاریخ جریمه:</strong> <span id="printDate">1402/10/15</span></p>
                                </div>
                                <div class="col-6">
                                    <p><strong>کد پیگیری:</strong> <span id="printCode">123456789</span></p>
                                    <p><strong>محل تخلف:</strong> <span id="printLocation">خیابان اصلی</span></p>
                                    <p><strong>تاریخ چاپ:</strong> <span id="printCurrentDate">1402/10/20</span></p>
                                </div>
                            </div>
                            
                            <div class="print-description">
                                <p><strong>توضیحات:</strong></p>
                                <p id="printDesc">-</p>
                            </div>
                            
                            <div class="print-footer">
                                <div class="cost-section">
                                    <p><strong>هزینه چاپ:</strong> <span id="printCostValue">5,000</span> تومان</p>
                                    <p><strong>جمع کل:</strong> <span id="printTotal">55,000</span> تومان</p>
                                </div>
                                <div class="signature">
                                    <p>مهر و امضای کافی نت شهر</p>
                                    <div class="signature-line"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="print-watermark">
                            <p>سند معتبر - چاپ شده توسط کافی نت شهر</p>
                        </div>
                    </div>
                    
                    <div class="print-actions">
                        <button class="btn btn-print" onclick="printDocument()">
                            <i class="fas fa-print"></i> چاپ سند
                        </button>
                        <button class="btn btn-secondary" onclick="saveToHistory()">
                            <i class="fas fa-history"></i> ذخیره در تاریخچه
                        </button>
                    </div>
                </section>

                <!-- تاریخچه چاپ‌ها -->
                <section id="history-section" class="section-card">
                    <h2><i class="fas fa-history"></i> تاریخچه چاپ‌ها</h2>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ردیف</th>
                                    <th>نوع سند</th>
                                    <th>شماره پلاک</th>
                                    <th>مبلغ</th>
                                    <th>تاریخ چاپ</th>
                                    <th>عملیات</th>
                                </tr>
                            </thead>
                            <tbody id="historyTable">
                                <!-- داده‌ها با JavaScript پر می‌شود -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- تنظیمات -->
                <section id="settings-section" class="section-card">
                    <h2><i class="fas fa-cog"></i> تنظیمات</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">هزینه پیش‌فرض چاپ (تومان)</label>
                                <input type="number" class="form-control" id="defaultPrintCost" value="5000">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">نام کافی نت</label>
                                <input type="text" class="form-control" id="shopName" value="کافی نت شهر">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label class="form-label">شماره تماس</label>
                                <input type="text" class="form-control" id="contactNumber" value="09224044842">
                            </div>
                            <button class="btn btn-primary" onclick="saveSettings()">
                                <i class="fas fa-save"></i> ذخیره تنظیمات
                            </button>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- اسکریپت‌ها -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
  </html>
